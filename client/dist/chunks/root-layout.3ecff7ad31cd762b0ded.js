"use strict";(self.webpackChunkstudy_math=self.webpackChunkstudy_math||[]).push([[3546],{3773:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var a=l(7810),s=l(2394),n=l(6908),c=l(6139),o=l(780);const r=()=>{const e=(0,s.Zp)(),t=(0,s.zy)();return useLayoutEffect(()=>{__setNavigate(e)},[e]),useEffect(()=>{__setLocation(t)},[t]),useEffect(()=>{o.A.scrollToTop(__getNavigateScrollTopPos()),__setNavigateScrollTopPos(0)},[t.pathname,t.search,t.hash]),null};var u=l(1230),i=l(3662);const m=(0,i.Ay)(()=>l.e(1968).then(l.bind(l,64)),u.Rq.options),d=(0,i.Ay)(()=>l.e(9385).then(l.bind(l,4958)),u.Rq.options);var h=l(4775);const E=(0,i.Ay)(()=>l.e(8504).then(l.bind(l,5228)),u.Rq.options),v=({})=>{const e=useRef(null),t=useCallback(()=>e.current?.isShow()||!1,[]),l=useCallback(()=>{e.current?.show()},[]),s=useCallback(()=>{e.current?.hide()},[]),n=useCallback(()=>e.current?.getLastHideTime()||0,[]);return useLayoutEffect(()=>{__setLoading({showLoading:l,hideLoading:s,isShowLoading:t,getLastHideLoadingTime:n})},[l,s,t,n]),a.createElement(c.Rhj,{ref:e})},g=()=>{const e=useRef(void 0),[t,l]=(0,a.useState)("light"),[i,g]=(0,a.useState)(),[L,f]=(0,a.useState)(!1),[b,p]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!0);useEffect(()=>{w()},[]),useEffect(()=>{o.A.setColorScheme(t)},[t]),useEffect(()=>{const e=()=>{C("visible"===document.visibilityState)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[]);const S=useCallback(()=>document.getElementById("___appLoading"),[]),_=useCallback(()=>{const t=S();t&&(e.current&&(clearTimeout(e.current),e.current=void 0),t.classList.remove("hide"),t.classList.remove("hide-complete"),t.classList.add("show"))},[S]),y=useCallback(()=>{const t=S();t&&(e.current&&(clearTimeout(e.current),e.current=void 0),t.classList.remove("show"),t.classList.add("hide"),e.current=setTimeout(()=>{e.current=void 0,t.classList.add("hide-complete")},300))},[S]),T=useCallback(()=>{const t=S();t&&(e.current&&(clearTimeout(e.current),e.current=void 0),t.classList.remove("show"),t.classList.add("hide"),setTimeout(()=>{t.parentNode?.removeChild(t)},300))},[S]),w=useCallback((e=!1)=>{_(),f(!1),setTimeout(()=>{g(null),y()},e?300:0)},[y,_]),A=useMemo(()=>({colorScheme:t,setColorScheme:l,toggleColorScheme:()=>l(e=>"light"===e?"dark":"light"),isWindowActive:k,auth:ifUndefined(i,null),setAuth:g,clearAuth:()=>g(null),isLock:b,setIsLock:p,showHtmlLoading:_,hideHtmlLoading:y,removeHtmlLoading:T}),[i,t,y,b,k,T,_]);return a.createElement(h.NP,{colorScheme:t},a.createElement(n.EK,null,a.createElement(n.QG,{value:A},a.createElement(v,null),a.createElement("div",{className:"RootLayout"},void 0===i?a.createElement(a.Fragment,null,L?a.createElement(Flex,{height:"100vh"},a.createElement(c.lYP,{message:"서버에 연결할 수 없습니다.",onRetry:()=>w(!0)})):null):a.createElement(a.Fragment,null,a.createElement(r,null),a.createElement(s.BV,null,a.createElement(s.qh,{path:"/auth/*",element:a.createElement(m,null)}),a.createElement(s.qh,{path:"/*",element:a.createElement(d,null)})),u.$W.isLocal&&a.createElement(E,null),a.createElement(Dialog,null),a.createElement(c.N9M,null))))))}}}]);