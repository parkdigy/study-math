"use strict";(self.webpackChunkstudy_math=self.webpackChunkstudy_math||[]).push([[4390],{4909:(e,t,r)=>{r.r(t),r.d(t,{ApiLoadContainer:()=>a,default:()=>c});var n=r(7810),o=r(7304),u=r(9701),s=r(780);const a=ToForwardRefExoticComponent(AutoTypeForwardRef(function({children:e,load:t,data:r,retryDelay:a=1e3,onLoad:c,...d},i){const l=useRef(!1),f=useRef(!1),[,h]=(0,u.qW)(),[p,y]=useState("loading"),[m,_]=useState(),[g,E]=useState();useEffect(()=>()=>{f.current&&(__hideLoading(),f.current=!1)},[]),useEffect(()=>{t&&A(!1)},[t,r]);const A=useCallback(e=>{l.current||(l.current=!0,__showLoading(),f.current=!0,y(e=>"error"===e?"loading":e),h(()=>{c(r).then(e=>{E(e),y("success")}).catch(e=>{y(void 0===e?"empty_error":"error"),_(e)}).finally(()=>{f.current&&(__hideLoading(),f.current=!1,l.current=!1)})},e?a:0))},[r,c,a,h]),C=useMemo(()=>({load(){A(!1)}}),[A]);useEffect(()=>{i&&("function"==typeof i?i(C):i.current=C)},[C,i]);const R=useMemo(()=>{if(m){const e=s.A.getAxiosApiErrorResultCode(m);return void 0!==e?`(A-${e})\n문제가 발생했습니다.`:m.status?`(E-${m.status})\n문제가 발생했습니다.`:"문제가 발생했습니다."}},[m]);return contains(["loading","empty_error"],p)?null:"error"===p?n.createElement(o.l,{message:R,onRetry:()=>A(!0)}):n.createElement(Flex,{...d},"function"==typeof e?e(g):e)})),c=a}}]);